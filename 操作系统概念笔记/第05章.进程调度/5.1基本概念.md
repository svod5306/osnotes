这一章讨论CPU资源的调度。

## 5.1基本概念

首先针对文中出现的“操作系统从该进程接管CPU控制”做个总结。

CPU虽然复杂，但是CPU执行时候并不知道自己执行的是操作系统代码还是用户程序代码，一个程序如果在被CPU运行，操作系统怎么接管CPU？毕竟操作系统的代码想要接管CPU也需要CPU执行啊，而此时CPU是被用户进程占用的。

一般情况下，操作系统接管CPU的方式是中断，各种中断，包括软中断和硬中断。比如CPU时钟产生的中断，见以前总结的 1.5.2节。

另一个曾经困扰我的问题是：如果系统中没有用户作业（用户进程）运行了，内核接管了CPU，内核在干什么？内核程序既然也是代码，内核代码这时候运行了，那么CPU的表现应该是一直在忙碌的运行，而不是空闲状态，以至于还有多余的时间片分配给其他任务。事实上内核没有那么忙碌，操作系统设计了一个任务叫做“空闲任务”，当用户任务被处理完以后，内核会调度这个“空闲任务”，而这个任务的功能就是执行CPU的挂起指令，让CPU挂起，大概就像休眠一样。

### 5.1.1CPU-I/O执行周期


