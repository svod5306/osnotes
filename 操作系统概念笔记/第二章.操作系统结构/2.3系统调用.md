## 用户操作系统的界面

2.2没啥，忽略

## 2.3系统调用

系统调用，就是调用操作系统功能，操作系统会提供程序员使用的调用接口。

通常情况下，编程语言会对系统调用做进一步的封装，让系统调用更方便使用，封装好的编程接口称为API。API的好处不但是方便使用，关键是API隐藏了具体系统的内部实现，还便于程序的移植。比如cout<<"q"<<endl;无论是Linux还是windows,任何一个操作系统上都会正确显示出q字符。

系统调用很常见，基本我们任何一个程序都要设计系统调用，甚至一个简单的Hello World也涉及调用系统输出现实功能。

上面举例cout说明编程语言提供了系统调用API，这些API的内部实现是由编程语言的“运行时支持系统（就是函数库，我们include背后的那些东西）”我们的代码调用cout API，运行时支持库在API的具体实现中再调用系统的具体功能。

根据书上P62页的内容：系统调用接口指运行时支持系统提供的功能，起到API和系统调用之间桥梁的作用。

操作系统内核都维护一个表格结构：系统调用表。是系统函数地址和序号构成的表格。系统调用接口通过这个表格调用系统函数。和中断向量表一样，这个表格中的函数地址可能会被某些系统程序修改，修改后完成一些附加功能。

* 和中断向量表一样啊，我都怀疑所谓的系统调用表就是中断向量表，毕竟几乎所有的系统调用都是涉及硬件IO。这个问题可以<mark>问问老师</mark>，网上也没查到资料。

系统调用时向操作系统传递参数方法：

第一种、通过寄存器来传递参数；

第二种、当参数比寄存器多时，保存在内存的块和表中，并将块的地址通过寄存器来传递（如Linux和Solaris）；

第三种、参数通过程序放在或压入栈中，并通过操作系统从栈中弹出（这种方法不限制传递参数的数量或长度）。
